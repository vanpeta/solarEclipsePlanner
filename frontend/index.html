<!DOCTYPE html>
<html ng-app="solarEclipsePlanner">
  <head>
    <meta charset="utf-8">
    <title>Solar Eclipse Planner</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js"></script>

    <!-- Compiled and minified Materialized CDN CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.min.css">

    <script src="js/vendor/jwt-decode.2.0.1.js"></script>
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.3.0/angular-ui-router.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-resource.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  </head>

  <body>
    <header ng-controller="NavbarController as vm">
      <div class="navbar-fixed">
        <nav class='black'>
          <div class="nav-wrapper">
            <a ui-sref="home" class="brand-logo"><img class='logo' src="resources/images/logo.jpg"/></a>
            <ul id="nav-mobile" class="right hide-on-med-and-down">
              <li><a ng-show="vm.authService.isLoggedIn() || vm.showMapLinkInHouses()" ui-sref="map" class="white-text hoverable">MAP</a></li>
              <li><a ng-show="vm.authService.isLoggedIn()" ui-sref="favorites" class="white-text hoverable">FAVORITES</a>

              <li><button ng-hide="vm.authService.isLoggedIn()" type="button" class="btn modal-trigger deep-orange accent-3 waves-red" data-target="modal-Sing-in">Sign in</button></li>
              <li><button ng-show="!vm.authService.isLoggedIn() && vm.currentPath()==='/'" type="button" class="btn modal-trigger deep-orange accent-3 waves red" data-target='modal-Guest'>Continue as a Guest</button>
              <li><button ng-show="vm.authService.isLoggedIn()" ng-click= "vm.authService.logOut()" ui-sref="home" type="button" class="btn deep-orange accent-3 waves-red">Sign out</button></li>
            </ul>
          </div>
        </nav>
      </div>
    </header>
      <!-- sign-in-form -->
    <div ng-controller="SignInController as vm">
      <div class="modal" id="modal-Sing-in" ng-hide="vm.toggleValue">
        <div class="modal-content">
          <h2 class='deep-orange-text'>Sign In</h2>
          <form class="col s4" ng-submit="vm.submitLogIn();" name="signInForm" novalidate>
            <div class="input-field">
              <input ng-model="vm.logIn.email" type="email" ng-model="email" name="email" required class="validate deep-orange-text" id="email">
              <label for="Email">email</label>
            </div>
            <div class="input-field">
              <input ng-model="vm.logIn.password" type="password" ng-model="password" name="password" required class="validate deep-orange-text" id="Password">
              <label for="password">Password</label>
            </div>
            <button type="submit" ng-disabled="signInForm.$invalid" class="btn deep-orange accent-3 modal-close">Submit</button>
          </form>
        </div>
        <div class="modal-footer">
          <p>
            <strong>
              If you are not a user yet,
              <a class="underline modal-close" ui-sref="signup"><u>Sign Up</u></a>.
            </strong>
          </p>
        </div>
      </div>
    </div>

    <div ui-view></div>

    <!-- GA implementation -->
    <script>
      (function(i,s,o,g,r,a,m){
        i['GoogleAnalyticsObject']=r;
        i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();
        a=s.createElement(o),m=s.getElementsByTagName(o)[0];
        a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })
      (window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-83669648-2', 'auto');
      ga('send', 'pageview');
    </script>
    <!--Import jQuery before materialize.js-->
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>

     <!-- Materialize JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js"></script>

    <script src="js/app.js" charset="utf-8"></script>
    <script src="js/config/app.debug.js"></script>
    <script src="js/config/app.httpInterceptors.js"></script>
    <script src="js/config/jsonHeaders.service.js"></script>
    <script src="js/config/tokenSigning.service.js"></script>
    <script src="js/config/authErrorRedirect.service.js"></script>
    <!Google Maps APIs !>
    <script type="text/javascript" src="//maps.googleapis.com/maps/api/js?key=AIzaSyAMq6ZlhELlV84FiHD13wI-r-HiWUM788k&libraries=geometry"></script>
<!--     <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false&v=3&libraries=geometry"></script> -->

    <script type="text/javascript" src="resources/mapData/SE2017Aug21Tgoogle.js"></script>
    <script type="text/javascript" src="resources/mapData/SEcirc.js"></script>

    <script src="js/config/routes.js" charset="utf-8"></script>
    <script src="js/users/usersControllers.js" charset="utf-8"></script>
    <script src="js/map/map.controller.js" charset="utf-8"></script>
    <script src="js/airbnb/airbnbController.js" charset="utf-8"></script>


    <script src="js/auth/auth.service.js" charset="utf-8"></script>
    <script src="js/auth/signin.controller.js" charset="utf-8"></script>
    <script src="js/auth/navbar.controller.js" charset="utf-8"></script>
    <script src="js/auth/token.service.js" charset="utf-8"></script>
    <script src="js/auth/user.service.js" charset="utf-8"></script>

  </body>
</html>
